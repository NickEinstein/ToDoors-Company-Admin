"use strict";(self.webpackChunktodoors_web=self.webpackChunktodoors_web||[]).push([[481],{4114:function(e,n,s){s(2791);n.Z=s.p+"static/media/edit.b6b2c09b44e5c3b7cf10adc74f657146.svg"},8481:function(e,n,s){s.r(n);var a=s(4165),t=s(5861),l=s(885),r=s(2791),i=s(8152),o=(s(5705),s(1724),s(5588)),c=s(9885),u=(s(6113),s(676)),d=(s(1066),s(4114)),m=(s(656),s(3978)),f=s(4565),v=s(7205),h=s(1872),p=s(7198),x=s(6871),j=(s(3979),s(1843),s(4789),s(7425)),Z=s(1317),b=s(184);n.default=function(e){var n=(0,u.Z)(),s=r.useState(null===n||void 0===n?void 0:n.homeAddress),N=(0,l.Z)(s,2),g=N[0],w=N[1],y=r.useState(null===n||void 0===n?void 0:n.city),E=(0,l.Z)(y,2),S=E[0],C=E[1],B=r.useState(null===n||void 0===n?void 0:n.phoneNo),k=(0,l.Z)(B,2),_=k[0],A=k[1],T=r.useState(null===n||void 0===n?void 0:n.state),P=(0,l.Z)(T,2),O=P[0],U=P[1],I=(0,r.useState)(null===n||void 0===n?void 0:n.email),R=(0,l.Z)(I,2),X=R[0],D=R[1],F=(0,r.useState)(n.fname),L=(0,l.Z)(F,2),W=L[0],z=L[1],H=(0,r.useState)(""),K=(0,l.Z)(H,2),M=(K[0],K[1],(0,r.useState)(!1)),G=(0,l.Z)(M,2),q=(G[0],G[1],(0,r.useState)(null===n||void 0===n?void 0:n.country)),Q=(0,l.Z)(q,2),V=Q[0],J=Q[1],Y=r.useState(n._id),$=(0,l.Z)(Y,2),ee=$[0],ne=($[1],(0,r.useState)(!0)),se=(0,l.Z)(ne,2),ae=se[0],te=se[1],le=(0,r.useState)(!0),re=(0,l.Z)(le,2),ie=(re[0],re[1],(0,x.s0)(),null===i.Z||void 0===i.Z?void 0:i.Z.useGetUserQuery({userId:ee})),oe=null===ie||void 0===ie?void 0:ie.data,ce={fname:W,email:X,phoneNo:_,address:g,city:S,state:O,country:V,_id:ee},ue=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=new FormData).append("image",n),je(s);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),de=(0,o.Ds)().enqueueSnackbar,me=i.Z.useUpdateUserMutation(),fe=(0,l.Z)(me,2),ve=fe[0],he=(fe[1],i.Z.useUpdateUserUploadMutation()),pe=(0,l.Z)(he,2),xe=(pe[0],pe[1],function(){var e=(0,t.Z)((0,a.Z)().mark((function e(){var n,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve({data:ce}).unwrap();case 3:n=e.sent,de(n.message,{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),de(null===e.t0||void 0===e.t0||null===(s=e.t0.data)||void 0===s?void 0:s.message,"Failed to login",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()),je=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var s,t,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.gz)({endpoint:"api/users/upload",body:n,auth:!0});case 2:(l=e.sent).data.success?de(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message,{variant:"success"}):de(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.message,{variant:"error"});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,b.jsxs)("div",{className:"add-bike",children:[(0,b.jsx)(Z.Z,{}),(0,b.jsxs)("div",{class:"",children:[!ae&&(0,b.jsxs)("div",{className:"flex items-center mb-2 cursor-pointer w-16 p-2",children:[(0,b.jsx)("div",{style:{border:"1px solid #494949"},className:"border-solid w-5 mr-2 rounded h-5 flex justify-center items-center",children:(0,b.jsx)(j.jW7,{className:"",style:{fontSize:"22px",color:"#494949"}})}),(0,b.jsx)("p",{onClick:function(){return te(!0)},style:{color:"#494949"},className:"text-base",children:"Back"})]}),ae&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex gap-8",children:[(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)(m.Z,{sx:{width:100,height:100},src:null===oe||void 0===oe?void 0:oe.profileUrl}),(0,b.jsx)("img",{onClick:function(){return te(!1)},src:d.Z,className:"self-end cursor-pointer"})]}),(0,b.jsxs)("div",{className:"self-center",children:[(0,b.jsx)(f.Z,{variant:"h6",children:null===n||void 0===n?void 0:n.fname}),(0,b.jsx)(v.Z,{className:"text-white bg-primary-main",variant:"h4",children:"Level 1 Account"})]})]}),(0,b.jsx)(h.Z,{className:"my-8"}),(0,b.jsxs)("div",{class:"flex gap-16 ",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-5 font-semibold",children:[(0,b.jsx)(f.Z,{className:"font-semibold",children:"Address:"}),(0,b.jsx)(f.Z,{className:"font-semibold",children:"Phone Number:"}),(0,b.jsx)(f.Z,{className:"font-semibold",children:"Email address:"}),(0,b.jsx)(f.Z,{className:"font-semibold",children:"ID Card:"}),(0,b.jsx)(f.Z,{className:"font-semibold",children:"Last Login Image"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)(f.Z,{children:null===oe||void 0===oe?void 0:oe.homeAddress}),(0,b.jsx)(f.Z,{children:null===oe||void 0===oe?void 0:oe.phoneNo}),(0,b.jsx)(f.Z,{children:null===oe||void 0===oe?void 0:oe.email}),(0,b.jsx)(f.Z,{children:"XXXX"}),(0,b.jsx)(f.Z,{children:"XXXX"})]})]})]}),!ae&&(0,b.jsxs)("div",{className:"pr-[15%]",children:[(0,b.jsxs)("div",{className:"flex justify-between my-10 ",children:[(0,b.jsxs)("div",{className:"w-full mr-[5%]",children:[(0,b.jsx)("p",{className:"font-bold",children:"Company Full Name"}),(0,b.jsx)(p.Z,{className:"w-full bg-[#EBEBEB] border-none",multiline:!0,rows:1.5,onChange:function(e){return z(e.target.value)},value:W})]}),(0,b.jsxs)("div",{className:"w-full ",children:[(0,b.jsx)("p",{className:"font-bold",children:"Company Phone No."}),(0,b.jsx)(p.Z,{disabled:!0,className:"w-full bg-[#EBEBEB]",multiline:!0,rows:1.5,onChange:function(e){return A(e.target.value)},value:_})]})]}),(0,b.jsxs)("div",{className:"flex justify-between my-10",children:[(0,b.jsxs)("div",{className:"w-full mr-[5%]",children:[(0,b.jsx)("p",{className:"font-bold",children:"Email Address"}),(0,b.jsx)(p.Z,{disabled:!0,onChange:function(e){return D(e.target.value)},className:"w-full bg-[#EBEBEB]",multiline:!0,value:X,rows:1.5})]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("p",{className:"font-bold",children:"Country"}),(0,b.jsx)(p.Z,{className:"w-full bg-[#EBEBEB]",multiline:!0,value:V,rows:1.5,onChange:function(e){return J(e.target.value)}})]})]}),(0,b.jsxs)("div",{className:"flex justify-between my-10",children:[(0,b.jsxs)("div",{className:"w-full mr-[5%]",children:[(0,b.jsx)("p",{className:"font-bold",children:"City"}),(0,b.jsx)(p.Z,{onChange:function(e){return C(e.target.value)},className:"w-full bg-[#EBEBEB]",multiline:!0,value:S,rows:1.5})]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("p",{className:"font-bold",children:"State"}),(0,b.jsx)(p.Z,{className:"w-full bg-[#EBEBEB]",multiline:!0,value:O,rows:1.5,onChange:function(e){return U(e.target.value)}})]})]}),(0,b.jsx)("div",{className:"flex justify-between my-10",children:(0,b.jsxs)("div",{className:"w-full ",children:[(0,b.jsx)("p",{className:"font-bold",children:"House Address"}),(0,b.jsx)(p.Z,{className:"w-full bg-[#EBEBEB]",multiline:!0,value:g,rows:2,onChange:function(e){return w(e.target.value)}})]})}),(0,b.jsx)("input",{onChange:function(e){ue(e.target.files[0])},style:{display:"none"},id:"contained-button-file",type:"file"}),(0,b.jsx)("label",{htmlFor:"contained-button-file",className:"mb-8",children:(0,b.jsx)(v.Z,{variant:"contained",color:"primary",component:"span",children:"Upload Profile Picture"})}),(0,b.jsx)("div",{className:"w-full mb-8 mt-4",children:(0,b.jsx)(v.Z,{onClick:xe,className:"h-12 w-2/6 bg-primary-main",children:"Update Company Profile"})})]})]})]})}},9885:function(e,n,s){s.d(n,{gz:function(){return u},v_:function(){return c}});var a=s(4165),t=s(5861),l=s(4569),r=s.n(l),i=s(1101),o=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,s,l,o,c,u,d){var m,f,v,h,p,x;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m={"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST GET OPTIONS",updateType:"profile"},console.log(n),console.log(o),f=i.Z[n]||n,v="".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SOFTWORK_API,"/").concat(f),u&&(v+="/".concat(u)),c&&(h=Object.keys(c).map((function(e){return c[e]&&"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(c[e]))})),v+="?".concat(h.join("&"))),l&&(console.log(localStorage.getItem("token")),(p=localStorage.getItem("token"))&&(m.Authorization="".concat(p))),x={url:v,method:s,headers:m},o&&(x.data=o),e.abrupt("return",r()(x).then((function(e){return e}),function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&n.response&&n.response.status,e.abrupt("return",n.response);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 11:case"end":return e.stop()}}),e)})));return function(n,s,a,t,l,r,i){return e.apply(this,arguments)}}(),c=function(e){var n=e.endpoint,s=e.body,a=e.auth,t=void 0===a||a,l=e.multipart;return o(n,"POST",t,s,null,null,l)},u=function(e){var n=e.endpoint,s=e.body,a=e.auth,t=void 0===a||a,l=e.multipart;return o(n,"PUT",t,s,null,null,l)}}}]);
//# sourceMappingURL=481.7bee4f05.chunk.js.map