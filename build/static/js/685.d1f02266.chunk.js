"use strict";(self.webpackChunktodoors_web=self.webpackChunktodoors_web||[]).push([[685,536],{6683:function(e,t,n){var r=n(4165),a=n(5861),s=n(885),i=n(2791),o=n(8152),l=n(5705),c=n(1724),u=n(5588),d=(n(6113),n(676)),v=(n(8871),n(9077),n(7328),n(1306),n(4861),n(2699),n(4565)),p=n(6871),x=n(184);t.Z=function(e){var t=i.useState(""),n=(0,s.Z)(t,2),m=(n[0],n[1],(0,p.s0)()),f=((0,d.Z)(),(0,u.Ds)().enqueueSnackbar),h=o.Z.useLoginMutation(),g=(0,s.Z)(h,2),Z=g[0];return g[1],(0,l.TA)({initialValues:{username:"",password:""},validationSchema:c.Ry({username:c.Z_().trim().required(),password:c.Z_().trim().required()}),onSubmit:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),m("/complete-signUp"),e.prev=2,e.next=5,Z({data:t}).unwrap();case 5:e.sent,f("Logged in successful",{variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),f(null===e.t0||void 0===e.t0||null===(n=e.t0.data)||void 0===n?void 0:n.message,"Failed to login",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}),(0,x.jsx)("div",{className:"p-20 w-[136px]",style:{border:"none",borderLeft:e.cutborder?"1px solid #C4C4C4":"none"},children:(0,x.jsx)("div",{className:e.rider?"riders-bg text-white text-center mr-3":e.plain?"plain-bg":e.green?"bg-primary-main text-white":e.big?"text-left":" text-white text-center",sx:{minWidth:e.big?220:155,minHeight:e.big?160:120},children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsx)(v.Z,{className:e.plain||e.green?" text-center text-white":e.dashboard?"text-center text-primary-main ":"text-center text-primary-main font-bold",sx:{fontSize:14},children:e.name||"Total Companies"})}),(0,x.jsx)("div",{children:(0,x.jsx)(v.Z,{variant:e.small?"h3":e.earnings?"h5":e.big?"h3":"h2",className:e.green?"text-white text-center font-bold":e.bigspace?"text-center font-bold text-primary-main pr-10":e.big?"font-extrabold text-center text-primary-main":"text-center font-bold text-primary-main px-5",children:e.count})})]})})})}},5685:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var r=n(4165),a=n(5861),s=n(885),i=n(2791),o=n(8152),l=n(5705),c=n(6856),u=n(1724),d=n(5588),v=(n(6113),n(676)),p=(n(8871),n(9077),n(7328),n(1306),n(656),n(4861),n(2699),n(184));var x=n(1413),m=n(2982),f=(n(4164),n(2556)),h=function(e){var t=e.companyMonthly,n=(e.companyMonthlyTrips,(0,i.useState)([])),r=(0,s.Z)(n,2),a=(r[0],r[1],function(e){if(11==e)return"Nov"}),o=t?null===t||void 0===t?void 0:t.map((function(e){return{year:a(e._id.month),value:(null===e||void 0===e?void 0:e.total_earning)||(null===e||void 0===e?void 0:e.trips_count)}})):[],l={data:[{year:"Jan ",value:0},{year:"Feb ",value:0},{year:"Mar",value:0},{year:"Apr ",value:0},{year:"May ",value:0},{year:"Jun ",value:0},{year:"Jul",value:0},{year:"Aug ",value:0},{year:"Sept ",value:0},{year:"Oct ",value:0}].concat((0,m.Z)(o),[{year:"Dec ",value:0}]),xField:"year",yField:"value",seriesField:"",color:function(e){e.type;return"#0C3BAA"},label:{content:function(e){var t=parseFloat(e.value);if(t<.05)return(100*t).toFixed(1)+"%"},offset:10},legend:!1,xAxis:{label:{autoHide:!0,autoRotate:!1}},yAxis:{label:!1,grid:{line:!1}}};return(0,p.jsx)(f.Z,(0,x.Z)((0,x.Z)({},l),{},{onReady:function(e){e.on("plot:click",(function(t){var n=t.x,r=t.y;e.options.xField,e.chart.getTooltipItems({x:n,y:r})}))}}))},g=(n(7101),n(4565)),Z=n(1872),y=n(6015),b=n(1898),j=n(2851),w=n(5702),S=n(6871),N=(n(3979),n(1317)),k=(n(1843),n(6683)),C=(n(3908),n(7536));var A=function(e){var t,n,x,m=i.useState(!0),f=(0,s.Z)(m,2),A=f[0],T=f[1],I=i.useState("Earnings"),M=(0,s.Z)(I,2),R=M[0],_=M[1],F=i.useState("635fbde0bfadb9f5ea56afa4"),z=(0,s.Z)(F,2),E=z[0],G=(z[1],i.useState()),Q=(0,s.Z)(G,2),B=Q[0],L=Q[1],O=(0,i.useState)(),U=(0,s.Z)(O,2),q=U[0],J=U[1],D=(0,S.s0)(),V=((0,v.Z)(),(0,d.Ds)().enqueueSnackbar),W=o.Z.useLoginMutation(),H=(0,s.Z)(W,2),P=H[0];H[1],(0,l.TA)({initialValues:{username:"",password:""},validationSchema:u.Ry({username:u.Z_().trim().required(),password:u.Z_().trim().required()}),onSubmit:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D("/complete-signUp"),e.prev=1,e.next=4,P({data:t}).unwrap();case 4:e.sent,V("Logged in successful",{variant:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),V(null===e.t0||void 0===e.t0||null===(n=e.t0.data)||void 0===n?void 0:n.message,"Failed to login",{variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()});var K=null===o.Z||void 0===o.Z?void 0:o.Z.useGetEarningsByMonthQuery(),X=null===o.Z||void 0===o.Z?void 0:o.Z.useGetTripsByMonthQuery(),Y=o.Z.useGetCompanyStatisticsQuery({}),$=null===Y||void 0===Y?void 0:Y.data,ee=null===o.Z||void 0===o.Z?void 0:o.Z.useGetAllBikesQuery(),te=null===ee||void 0===ee||null===(t=ee.data)||void 0===t?void 0:t.data,ne=(null===o.Z||void 0===o.Z||o.Z.useGetUserQuery({userId:E}),null===o.Z||void 0===o.Z?void 0:o.Z.useGetRiderTripStatisticsQuery());return null===ne||void 0===ne||null===(n=ne.data)||void 0===n||n.data,(0,i.useEffect)((function(){var e,t;J(A?null===K||void 0===K||null===(e=K.data)||void 0===e?void 0:e.data:null===X||void 0===X||null===(t=X.data)||void 0===t?void 0:t.data),_(A?"Earnings":"Rides")}),[A,K,X]),(0,p.jsxs)("div",{children:[!B&&(0,p.jsxs)("div",{children:[(0,p.jsx)(N.Z,{}),(0,p.jsx)("div",{className:"mb-8",children:(0,p.jsx)(g.Z,{variant:"h5",className:"font-bold",children:"Welcome Back"})}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex-between w-4/6 mb-2 text-xs ",children:[(0,p.jsx)("p",{className:"font-bold flextext-xs self-end",children:"Today"}),(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("span",{className:"text-xs mr-1 opacity-50",children:(0,p.jsx)(c.la_,{})}),(0,p.jsx)("span",{className:"text-xs opacity-50",children:"Refresh"})]})]}),(0,p.jsx)("div",{className:"flex ",children:(0,p.jsxs)("div",{className:"flex items-center border2 p-2",children:[(0,p.jsx)(k.Z,{dashboard:!0,big:!0,name:"Active Bikes",count:null===te||void 0===te?void 0:te.length}),(0,p.jsx)(k.Z,{dashboard:!0,cutborder:!0,big:!0,name:"Rides in progress",count:$&&(null===$||void 0===$?void 0:$.ongoing_trips)}),(0,p.jsx)(k.Z,{dashboard:!0,cutborder:!0,big:!0,name:"Completed",count:$&&(null===$||void 0===$?void 0:$.completed_trips)}),(0,p.jsx)(k.Z,{dashboard:!0,cutborder:!0,big:!0,name:"Online",count:$&&(null===$||void 0===$?void 0:$.online_bikes)}),(0,p.jsx)(k.Z,{dashboard:!0,earnings:!0,cutborder:!0,name:"Earnings",count:function(e){var t;return null===e||void 0===e||null===(t=e.toString())||void 0===t?void 0:t.replace(/\B(?=(\d{3})+(?!\d))/g,",")}($&&(null===$||void 0===$?void 0:$.total_earnings))})]})})]}),(0,p.jsxs)("div",{className:"flex-between w-full mb mt-6 text-xl",children:[(0,p.jsxs)("p",{className:" flex  self-end text-primary-main font-bold",children:[A?"Earnings":"Rides"," Over the last 12 Months"]}),(0,p.jsx)("div",{className:"flex items-center"})]}),(0,p.jsx)(Z.Z,{className:"my-2"}),(0,p.jsx)("div",{className:"flex items-center w-1/5 mt-4",children:(0,p.jsx)(y.Z,{className:" w-full",sx:{minWidth:120},children:(0,p.jsx)(b.Z,{fullWidth:!0,children:(0,p.jsxs)(j.Z,{placeholder:"August",className:"w-full",size:"small",id:"demo-simple-select",value:R,onChange:function(e){T(!A)},children:[(0,p.jsx)(w.Z,{value:"Earnings",children:"Earnings"}),(0,p.jsx)(w.Z,{value:"Rides",children:"Rides"})]})})})}),(0,p.jsx)("div",{className:" flex mt-10 w-full justify-center",children:(0,p.jsx)("div",{className:" w-3/5 mb-10",children:(0,p.jsx)(h,{companyMonthly:q,companyMonthlyTrips:null===X||void 0===X||null===(x=X.data)||void 0===x?void 0:x.data})})})]}),B&&(0,p.jsx)("div",{className:"flex justify-between items-center mt-8",children:(0,p.jsx)(C.default,{switsh:function(){return L(!B)},hide:!0})})]})}},1843:function(e,t,n){n(2791),n(8152),n(5705),n(1724),n(5588),n(6113),n(676),n(8871),n(9077),n(7328),n(1306),n(656),n(4861),n(2699),n(184)},3908:function(e,t,n){var r=n(4165),a=n(5861),s=n(885),i=n(2791),o=(n(8152),n(5705),n(1724),n(5588),n(6113),n(676),n(7993)),l=(n(8871),n(9077),n(7328),n(656),n(2699),n(4565)),c=n(6871),u=(n(3979),n(8820)),d=n(184);t.Z=function(e){var t=e.route,n=e.width,v=(0,i.useState)(null),p=(0,s.Z)(v,2),x=(p[0],p[1],(0,i.useState)(null)),m=(0,s.Z)(x,2),f=(m[0],m[1]),h=(0,i.useState)(null),g=(0,s.Z)(h,2),Z=(g[0],g[1]),y=(0,i.useState)(null),b=(0,s.Z)(y,2),j=b[0],w=b[1],S=(0,i.useState)(""),N=(0,s.Z)(S,2);N[0],N[1],(0,c.s0)(),console.log(t);var k=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t&&""!=n){e.next=2;break}return e.abrupt("return");case 2:return a=new google.maps.DirectionsService,e.next=5,a.route({origin:t,destination:n,travelMode:google.maps.TravelMode.DRIVING});case 5:s=e.sent,w(s),f(s.routes[0].legs[0].distance.text),Z(s.routes[0].legs[0].duration.text);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){console.log(t.origin),setTimeout(k(t.origin,t.destination),5e3)}),[t]);var C=(0,o.Ji)({id:"google-map-script",googleMapsApiKey:"AIzaSyAssvIlc0TbayfgN6C3rfGtlCXQckeystQ",libraries:["places"]}).isLoaded;if(!C)return(0,d.jsx)("p",{children:"isloaded"});var A={width:"100%",height:n?"38vw":""};return C?(0,d.jsxs)("div",{className:"w-[80%]",children:[n&&(0,d.jsxs)("div",{className:"flex w-1/3  items-center mr-5",children:[(0,d.jsx)(l.Z,{className:"w-full text-green-600",variant:"h6",children:t.origin}),(0,d.jsx)(u.mGl,{style:{fontSize:"40px"}}),(0,d.jsx)(l.Z,{className:"w-full text-green-600 ml-5",variant:"h6",children:t.destination})]}),(0,d.jsxs)(o.b6,{mapContainerStyle:A,center:{lat:6.458985,lng:3.601521},zoom:10,options:{zoomControl:!1,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1},children:[j&&(0,d.jsx)(o.tH,{directions:j}),(0,d.jsx)(d.Fragment,{})]})]}):(0,d.jsx)(d.Fragment,{})}},7536:function(e,t,n){n.r(t);var r=n(4165),a=n(5861),s=n(885),i=n(2791),o=(n(8152),n(5705),n(1724),n(5588),n(6113),n(676)),l=n(7993),c=(n(8871),n(9077),n(7328),n(656),n(2699),n(4428)),u=n(6871),d=(n(3979),n(1317)),v=n(7425),p=n(1066),x=n(184);t.default=function(e){var t=e.switsh,n=((0,o.Z)(),(0,i.useState)(null)),m=(0,s.Z)(n,2),f=(m[0],m[1]),h=(0,i.useState)(null),g=(0,s.Z)(h,2),Z=(g[0],g[1],(0,i.useState)(null)),y=(0,s.Z)(Z,2),b=(y[0],y[1],(0,i.useState)(null)),j=(0,s.Z)(b,2),w=j[0],S=(j[1],(0,i.useState)("")),N=(0,s.Z)(S,2),k=(N[0],N[1],(0,i.useState)(null)),C=(0,s.Z)(k,2);C[0],C[1],(0,u.s0)(),(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.U2)({endpoint:"api/payment/getAllBanks",auth:!0});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=setInterval(e,3e3);return function(){return clearInterval(t)}}),[]),c.ZP.connect("https://todoorapp.com:3000?token=".concat(localStorage.getItem("token")));var A=(0,l.Ji)({id:"google-map-script",googleMapsApiKey:"AIzaSyAssvIlc0TbayfgN6C3rfGtlCXQckeystQ",libraries:["places"]}).isLoaded;if(!A)return(0,x.jsx)("p",{children:"isloaded"});var T={lat:6.458985,lng:3.601521};return A?(0,x.jsxs)("div",{className:"w-full relative",children:[(0,x.jsxs)("div",{className:"absolute w-full top-10 left-8 z-50",children:[(0,x.jsx)(d.Z,{pad:!0,hide:!0}),(0,x.jsxs)("div",{class:"w-1/3 mt-4 pl-8 flex items-cente cursor-pointer",onClick:t,children:[(0,x.jsx)("div",{style:{border:"1px solid #494949"},className:"border-solid w-5 mr-2 rounded flex justify-center items-center",children:(0,x.jsx)(v.jW7,{className:"",style:{fontSize:"22px",color:"#494949"}})}),(0,x.jsx)("p",{style:{color:"#494949"},className:"text-xl font-semibold",children:"Back"})]})]}),(0,x.jsxs)(l.b6,{mapContainerStyle:{width:"100%",height:"45vw"},center:T,zoom:10,options:{zoomControl:!1,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1},onLoad:function(e){return f(e)},children:[(0,x.jsx)(l.Jx,{position:T}),w&&(0,x.jsx)(l.tH,{directions:w}),(0,x.jsx)(x.Fragment,{})]})]}):(0,x.jsx)(x.Fragment,{})}},7101:function(e,t,n){n.d(t,{U2:function(){return c}});var r=n(4165),a=n(5861),s=n(4569),i=n.n(s),o=n(1101),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,s,l,c,u,d){var v,p,x,m,f,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v={"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST GET OPTIONS"},console.log(t),console.log(l),p=o.Z[t]||t,x="https://locus.fkkas.com/api/".concat(p),u&&(x+="/".concat(u)),c&&(m=Object.keys(c).map((function(e){return c[e]&&"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(c[e]))})),x+="?".concat(m.join("&"))),s&&(console.log(localStorage.getItem("token")),(f=localStorage.getItem("token"))&&(v.Authorization="".concat(f))),h={url:x,method:n,headers:v},l&&(h.data=l),e.abrupt("return",i()(h).then((function(e){return e}),function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.response&&t.response.status,e.abrupt("return",t.response);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a,s,i,o){return e.apply(this,arguments)}}(),c=function(e){var t=e.endpoint,n=e.pQuery,r=e.param,a=void 0===r?null:r,s=e.auth;return l(t,"GET",void 0===s||s,null,n,a)}},4861:function(e,t,n){e.exports=n.p+"static/media/Rectangle 7.3a39a2242bd68e3f457e.png"}}]);
//# sourceMappingURL=685.d1f02266.chunk.js.map