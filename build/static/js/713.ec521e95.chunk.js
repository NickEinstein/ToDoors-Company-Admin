"use strict";(self.webpackChunktodoors_web=self.webpackChunktodoors_web||[]).push([[713],{6683:function(e,n,t){var a=t(4165),i=t(5861),s=t(885),r=t(2791),l=t(8152),d=t(5705),o=t(1724),c=t(5588),u=(t(6113),t(676)),x=(t(8871),t(9077),t(7328),t(1306),t(4861),t(2699),t(4565)),m=t(6871),v=t(184);n.Z=function(e){var n=r.useState(""),t=(0,s.Z)(n,2),p=(t[0],t[1],(0,m.s0)()),h=((0,u.Z)(),(0,c.Ds)().enqueueSnackbar),f=l.Z.useLoginMutation(),b=(0,s.Z)(f,2),Z=b[0];return b[1],(0,d.TA)({initialValues:{username:"",password:""},validationSchema:o.Ry({username:o.Z_().trim().required(),password:o.Z_().trim().required()}),onSubmit:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),p("/complete-signUp"),e.prev=2,e.next=5,Z({data:n}).unwrap();case 5:e.sent,h("Logged in successful",{variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),h(null===e.t0||void 0===e.t0||null===(t=e.t0.data)||void 0===t?void 0:t.message,"Failed to login",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}()}),(0,v.jsx)("div",{className:"p-20 w-[136px]",style:{border:"none",borderLeft:e.cutborder?"1px solid #C4C4C4":"none"},children:(0,v.jsx)("div",{className:e.rider?"riders-bg text-white text-center mr-3":e.plain?"plain-bg":e.green?"bg-primary-main text-white":e.big?"text-left":" text-white text-center",sx:{minWidth:e.big?220:155,minHeight:e.big?160:120},children:(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:(0,v.jsx)(x.Z,{className:e.plain||e.green?" text-center text-white":e.dashboard?"text-center text-primary-main ":"text-center text-primary-main font-bold",sx:{fontSize:14},children:e.name||"Total Companies"})}),(0,v.jsx)("div",{children:(0,v.jsx)(x.Z,{variant:e.small?"h3":e.earnings?"h5":e.big?"h3":"h2",className:e.green?"text-white text-center font-bold":e.bigspace?"text-center font-bold text-primary-main pr-10":e.big?"font-extrabold text-center text-primary-main":"text-center font-bold text-primary-main px-5",children:e.count})})]})})})}},713:function(e,n,t){t.r(n);var a=t(4165),i=t(5861),s=t(885),r=t(2791),l=t(8152),d=(t(5705),t(1724),t(5588)),o=(t(6113),t(676)),c=(t(8871),t(5932)),u=(t(9077),t(7328),t(656)),x=(t(2699),t(4565)),m=t(6871),v=t(3979),p=(t(1843),t(4789)),h=t(6856),f=t(1317),b=t(6683),Z=t(1066),j=t(184);n.default=function(e){var n,t,g=r.useState(""),w=(0,s.Z)(g,2),N=(w[0],w[1],r.useState(!1)),y=(0,s.Z)(N,2),S=y[0],k=y[1],A=r.useState(0),D=(0,s.Z)(A,2),T=(D[0],D[1],r.useState([])),B=(0,s.Z)(T,2),C=B[0],_=B[1],L=r.useState([]),M=(0,s.Z)(L,2),q=M[0],G=M[1],U=r.useState([]),E=(0,s.Z)(U,2),I=E[0],P=E[1],Q=null===l.Z||void 0===l.Z?void 0:l.Z.useGetBanksQuery();null===Q||void 0===Q||null===(n=Q.data)||void 0===n||n.data,(0,r.useEffect)((function(){J(),R()}),[]);var R=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n,t,i,s,r,l,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.U2)({endpoint:"api/company/getTotalEarnings",auth:!0});case 2:return l=e.sent,G(null===l||void 0===l||null===(n=l.data)||void 0===n||null===(t=n.data[0])||void 0===t?void 0:t.total_earning),e.next=6,(0,Z.U2)({endpoint:"api/payment/getBalance",auth:!0});case 6:d=e.sent,P(null===d||void 0===d||null===(i=d.data)||void 0===i||null===(s=i.data)||void 0===s||null===(r=s.user)||void 0===r?void 0:r.walletBalance);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function W(e){var n;return null===e||void 0===e||null===(n=e.toString())||void 0===n?void 0:n.replace(/\B(?=(\d{3})+(?!\d))/g,",")}var z=function(e){k(!S)},F=((0,m.s0)(),null===C||void 0===C?void 0:C.map((function(e){return{image:u,name:"Nickky Samuel jonas  ",company:"GIG Logistics",amount:null===e||void 0===e?void 0:e.amount,id:null===e||void 0===e?void 0:e.tx_ref,updatedAt:null===e||void 0===e?void 0:e.updatedAt}}))),H=((0,o.Z)(),(0,d.Ds)().enqueueSnackbar,l.Z.useLoginMutation()),O=(0,s.Z)(H,2),V=(O[0],O[1],null===l.Z||void 0===l.Z?void 0:l.Z.useGetAllBikesQuery()),Y=null===V||void 0===V||null===(t=V.data)||void 0===t?void 0:t.data,J=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.U2)({endpoint:"api/company/getPaymentTransactions",auth:!0});case 2:i=e.sent,_(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsxs)("div",{children:[(0,j.jsx)(f.Z,{}),(0,j.jsx)(x.Z,{variant:"h5",className:"font-bold  mt-12",children:"Wallet"}),(0,j.jsxs)("div",{className:"flex items-end mr-3 w-3/6",children:[(0,j.jsx)("div",{className:"mr-4",children:(0,j.jsx)(v.Z,{className:"mr-3",rider:!1,button:!0,green:!0,name:"Available Balance",count:W(I),openModal:z})}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"flex-between w-6/6 mb-2 text-xs ",children:[(0,j.jsx)("p",{className:"font-bold flextext-xs self-end",children:"PAST 30 DAYS"}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("span",{className:"text-xs mr-1 opacity-50",children:(0,j.jsx)(h.la_,{})}),(0,j.jsx)("span",{className:"text-xs opacity-50",children:"Refresh"})]})]}),(0,j.jsx)("div",{className:"flex ",children:(0,j.jsxs)("div",{className:"flex items-center border2 p-2",children:[(0,j.jsx)(b.Z,{dashboard:!0,big:!0,name:"Active Bikes",count:null===Y||void 0===Y?void 0:Y.length}),(0,j.jsx)(b.Z,{dashboard:!0,earnings:!0,cutborder:!0,name:"Earnings",count:W(q)})]})})]})]}),(0,j.jsx)(x.Z,{variant:"h5",className:"font-bold mt-12 text-primary-main",children:"Cash Out Transactions"}),(0,j.jsx)("div",{children:(0,j.jsxs)("div",{style:{border:"1px solid #DADADA"},className:" cursor-pointer px-8 mt-4 py-2 flex border2 min-h-[50%]",children:[(0,j.jsx)("div",{className:"w-1/5  p-3 ",children:"Type"}),(0,j.jsx)("div",{className:"w-1/5  p-3 ",children:(0,j.jsx)("p",{className:"",children:"Date"})}),(0,j.jsx)("div",{className:"w-1/5  p-3 ",children:(0,j.jsx)("p",{className:"",children:"Transaction ID"})}),(0,j.jsx)("div",{className:"w-1/5  p-3 ",children:(0,j.jsx)("p",{className:"",children:"Amount"})}),(0,j.jsx)("div",{className:"w-1/5  p-3 ",children:(0,j.jsx)("p",{className:"",children:"Status"})})]})}),F.map((function(e){return(0,j.jsx)(p.Z,{tableArray:e})})),(0,j.jsx)(c.Z,{openModal:z,closeModal:S})]})}}}]);
//# sourceMappingURL=713.ec521e95.chunk.js.map