"use strict";(self.webpackChunktodoors_web=self.webpackChunktodoors_web||[]).push([[781],{4114:function(e,s,t){t(2791);s.Z=t.p+"static/media/edit.b6b2c09b44e5c3b7cf10adc74f657146.svg"},2781:function(e,s,t){t.r(s),t.d(s,{default:function(){return I}});var a=t(4165),i=t(5861),l=t(885),n=t(2791),r=t(8152),o=t(5705),d=t(1724),c=t(2426),u=t.n(c),m=t(5588),x=t(1066),v=(t(6113),t(676)),p=(t(8871),t(7328),t(5932),t(656),t(184));var f=t(2575),h=(t(4114),t(8014)),j=(t(2699),t(3978)),b=t(7205),N=t(2637),Z=t(464),g=t(8440),w=t(9444),y=t(6015),S=t(4565),k=t(1872),D=t(6871),C=(t(3979),t(3908)),B=t(7425),E=t(1317),G=t(7198);t(1843),t(4789);var X=function(e){var s,t,o,d,c,u=e.editbikeObj,f=e.handleClose,h=n.useState(null===u||void 0===u?void 0:u.address),j=(0,l.Z)(h,2),N=j[0],Z=j[1],g=n.useState(null===u||void 0===u?void 0:u.city),w=(0,l.Z)(g,2),y=w[0],S=w[1],k=n.useState(null===u||void 0===u?void 0:u.phoneNo),C=(0,l.Z)(k,2),B=C[0],E=C[1],X=n.useState(null===u||void 0===u?void 0:u.state),I=(0,l.Z)(X,2),_=I[0],R=I[1],T=(0,n.useState)(null===u||void 0===u?void 0:u.email),F=(0,l.Z)(T,2),L=F[0],M=F[1],z=(0,n.useState)(null===u||void 0===u?void 0:u.fname),W=(0,l.Z)(z,2),A=W[0],H=W[1],J=(0,n.useState)(null===u||void 0===u?void 0:u.password),K=(0,l.Z)(J,2),U=K[0],q=(K[1],(0,n.useState)(null===u||void 0===u?void 0:u._id)),O=(0,l.Z)(q,2),P=O[0],Q=(O[1],(0,n.useState)(!1)),V=(0,l.Z)(Q,2),Y=(V[0],V[1],(0,n.useState)(null===u||void 0===u?void 0:u.liscence)),$=(0,l.Z)(Y,2),ee=$[0],se=$[1],te=(0,n.useState)(null===u||void 0===u||null===(s=u.bikeDetails)||void 0===s?void 0:s.company),ae=(0,l.Z)(te,2),ie=ae[0],le=(ae[1],(0,n.useState)(null===u||void 0===u||null===(t=u.bikeDetails)||void 0===t?void 0:t.bikeModel)),ne=(0,l.Z)(le,2),re=ne[0],oe=(ne[1],(0,n.useState)(null===u||void 0===u||null===(o=u.bikeDetails)||void 0===o?void 0:o.regNo)),de=(0,l.Z)(oe,2),ce=de[0],ue=(de[1],(0,n.useState)(null===u||void 0===u||null===(d=u.bikeDetails)||void 0===d?void 0:d.RC_ownerName)),me=(0,l.Z)(ue,2),xe=me[0],ve=(me[1],(0,n.useState)(null===u||void 0===u||null===(c=u.bikeDetails)||void 0===c?void 0:c.regDate)),pe=(0,l.Z)(ve,2),fe=(pe[0],pe[1],(0,n.useState)("")),he=(0,l.Z)(fe,2),je=(he[0],he[1],(0,n.useState)({email:"",phoneNo:"",password:"",userType:"rider",companyId:"",fname:"",dob:"1993-12-07T23:00:00.000Z",bloodGroup:"B+",address:"",city:"",state:"",country:"Nigeria",bikeDetails:{type:"bike",company:"",regNo:"",RC_ownerName:"",bikeNo:"",bikeModel:""}})),be=(0,l.Z)(je,2),Ne=(be[0],be[1],(0,D.s0)(),(0,v.Z)()),Ze=(0,m.Ds)().enqueueSnackbar,ge=r.Z.useUpdateBikeMutation({userId:P}),we=(0,l.Z)(ge,2),ye=(we[0],we[1],function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={email:L,phoneNo:B,password:U,userType:"rider",companyId:Ne._id,fname:A,dob:"1993-12-07T23:00:00.000Z",bloodGroup:"B+",address:N,city:y,state:_,country:"Nigeria",bikeDetails:{type:"bike",company:ie,regNo:ce,RC_ownerName:xe,bikeNo:"",bikeModel:re}},e.next=3,(0,x.gz)({endpoint:"api/company/updateBike?userId=".concat(P),body:s,auth:!0});case 3:e.sent,Ze("updated successfully",{variant:"success"}),f();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,p.jsx)("div",{className:"add-bike",children:(0,p.jsxs)("div",{class:"w-full",children:[(0,p.jsxs)("div",{className:"flex justify-between my-10",children:[(0,p.jsxs)("div",{className:"w-full mr-[5%]",children:[(0,p.jsx)("p",{className:"font-bold",children:"Drivers Full Name"}),(0,p.jsx)(G.Z,{className:"w-full bg-[#EBEBEB] border-none",multiline:!0,rows:1.5,value:A,onChange:function(e){return H(e.target.value)}})]}),(0,p.jsxs)("div",{className:"w-full ",children:[(0,p.jsx)("p",{className:"font-bold",children:"Drivers Phone No."}),(0,p.jsx)(G.Z,{disabled:!0,className:"w-full bg-[#EBEBEB]",multiline:!0,value:B,rows:1.5,onChange:function(e){return E(e.target.value)}})]})]}),(0,p.jsxs)("div",{className:"flex justify-between my-10",children:[(0,p.jsxs)("div",{className:"w-full mr-[5%]",children:[(0,p.jsx)("p",{className:"font-bold",children:"Email Address"}),(0,p.jsx)(G.Z,{disabled:!0,onChange:function(e){return M(e.target.value)},className:"w-full bg-[#EBEBEB]",value:L,multiline:!0,rows:1.5})]}),(0,p.jsxs)("div",{className:"w-full",children:[(0,p.jsx)("p",{className:"font-bold",children:"Liscence Expiry"}),(0,p.jsx)(G.Z,{className:"w-full bg-[#EBEBEB]",multiline:!0,onChange:function(e){return se(e.target.value)},value:ee,rows:1.5})]})]}),(0,p.jsxs)("div",{className:"flex justify-between my-10",children:[(0,p.jsxs)("div",{className:"w-full mr-[5%]",children:[(0,p.jsx)("p",{className:"font-bold",children:"City"}),(0,p.jsx)(G.Z,{onChange:function(e){return S(e.target.value)},className:"w-full bg-[#EBEBEB]",value:y,multiline:!0,rows:1.5})]}),(0,p.jsxs)("div",{className:"w-full",children:[(0,p.jsx)("p",{className:"font-bold",children:"State"}),(0,p.jsx)(G.Z,{className:"w-full bg-[#EBEBEB]",multiline:!0,value:_,rows:1.5,onChange:function(e){return R(e.target.value)}})]})]}),(0,p.jsx)("div",{className:"flex justify-between my-10",children:(0,p.jsxs)("div",{className:"w-full ",children:[(0,p.jsx)("p",{className:"font-bold",children:"House Address"}),(0,p.jsx)(G.Z,{className:"w-full bg-[#EBEBEB]",value:N,multiline:!0,rows:2,onChange:function(e){return Z(e.target.value)}})]})}),(0,p.jsx)("div",{className:"w-full flex justify-between mb-8 gap-12",children:(0,p.jsx)(b.Z,{onClick:ye,className:"h-12 w-2/6 bg-primary-main",children:"Save"})})]})})};var I=function(e){var s=n.useState(),t=(0,l.Z)(s,2),c=t[0],G=t[1],I=n.useState(),_=(0,l.Z)(I,2),R=_[0],T=_[1],F=n.useState(!1),L=(0,l.Z)(F,2),M=(L[0],L[1],n.useState([])),z=(0,l.Z)(M,2),W=z[0],A=z[1],H=n.useState(!1),J=(0,l.Z)(H,2),K=J[0],U=J[1],q=n.useState(!1),O=(0,l.Z)(q,2),P=O[0],Q=O[1],V=n.useState({}),Y=(0,l.Z)(V,2),$=Y[0],ee=(Y[1],n.useState(!1)),se=(0,l.Z)(ee,2),te=se[0],ae=se[1],ie=function(){ae(!1),oe()},le=(0,D.s0)(),ne=null===r.Z||void 0===r.Z?void 0:r.Z.useGetUserQuery({userId:c}),re=null===ne||void 0===ne?void 0:ne.data;(0,n.useEffect)((function(){oe()}),[]);var oe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var s,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.U2)({endpoint:"api/company/bikes",auth:!0});case 2:t=e.sent,A(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.data.sort((function(e,s){return e.created_at-s.created_at})).reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=r.Z.useDeleteBikeMutation(),ce=(0,l.Z)(de,2),ue=ce[0],me=(ce[1],function(){var e=(0,i.Z)((0,a.Z)().mark((function e(s){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue({data:{userId:s}});case 3:e.sent,oe(),fe("Bike deleted successfully!",{variant:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),fe(null===e.t0||void 0===e.t0||null===(t=e.t0.data)||void 0===t?void 0:t.message,"Failed to login",{variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(s){return e.apply(this,arguments)}}()),xe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(s){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae(!0),T(null===s||void 0===s?void 0:s.obj);case 2:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();function ve(e,s,t,a,i,l,n,r,o,d,c,u,m){return{place:e,origin:s,image:t,destination:a,rider:i,orderId:l,status:n,fee:r,departureDate:o,arrivalDate:d,timeDelay:c,id:u,obj:m}}var pe=null===W||void 0===W?void 0:W.map((function(e){return ve(e.fname,e.state,e.profileUrl,e.bikeDetails.regNo,e.phoneNo,u()(null===e||void 0===e?void 0:e.created_at).format("ll"),"N200,000","11 Sept. 9:00am","15 Sept. 1:00am","-","",e._id,e)})),fe=(ve("Lagos","George Femi","435","NGN30,908","WXHDGDJKGG","Delivered","N200,000","11 Sept. 9:00am","15 Sept. 1:00am","-"),ve("Lagos","George Femi","435","NGN30,908","WXHDGDJKGG","Delivered","N200,000","11 Sept. 9:00am","15 Sept. 1:00am","-"),ve("Lagos","George Femi","435","NGN30,908","WXHDGDJKGG","Delivered","N200,000","11 Sept. 9:00am","15 Sept. 1:00am","-"),ve("Lagos","George Femi","435","NGN30,908","WXHDGDJKGG","Delivered","N200,000","11 Sept. 9:00am","15 Sept. 1:00am","-"),(0,v.Z)(),(0,m.Ds)().enqueueSnackbar),he=r.Z.useLoginMutation(),je=(0,l.Z)(he,2),be=je[0];return je[1],(0,o.TA)({initialValues:{username:"",password:""},validationSchema:d.Ry({username:d.Z_().trim().required(),password:d.Z_().trim().required()}),onSubmit:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(s){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le("/complete-signUp"),e.prev=1,e.next=4,be({data:s}).unwrap();case 4:e.sent,fe("Logged in successful",{variant:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),fe(null===e.t0||void 0===e.t0||null===(t=e.t0.data)||void 0===t?void 0:t.message,"Failed to login",{variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(s){return e.apply(this,arguments)}}()}),(0,p.jsxs)("div",{children:[(0,p.jsx)(E.Z,{}),!P&&(0,p.jsxs)("div",{className:"",children:[(0,p.jsx)("div",{sx:{minWidth:650},"aria-label":"simple table",children:(0,p.jsx)("div",{className:"mt-3",children:null===pe||void 0===pe?void 0:pe.map((function(e){return(0,p.jsxs)("div",{onClick:function(){G(e.id)},className:"flex my-5",sx:{"&:last-child td, &:last-child th":{border:0},marginTop:10,backgroundColor:""},children:[(0,p.jsxs)("div",{onClick:function(){return U(!0)},className:"w-1/5 border3b px-3 py-3 flex gap-2 items-center  text-center",children:[(0,p.jsx)(j.Z,{className:"w-[52px] h-[52px] rounded-full",src:null===e||void 0===e?void 0:e.image}),(0,p.jsxs)("div",{children:[(0,p.jsx)(b.Z,{className:"h-7 bg-primary-main",children:e.origin}),(0,p.jsx)("p",{className:"font-semibold my-2",children:e.place})]})]}),(0,p.jsxs)("div",{className:"w-1/5  px-3 py-3  border3b text-center",children:[(0,p.jsx)("p",{className:"text-[#959595] text-[11px] h-6",children:"Bike Reg No."}),(0,p.jsx)("p",{className:"font-semibold my-2",children:e.destination})]}),(0,p.jsxs)("div",{className:"w-1/5  px-3 py-3  border3b text-center",children:[(0,p.jsx)("p",{className:"text-[#959595] text-[11px] h-6",children:"Phone Number"}),(0,p.jsx)("p",{className:"font-semibold my-2",children:e.rider})]}),(0,p.jsxs)("div",{className:"w-1/5  px-3 py-3  border3b text-center",children:[(0,p.jsx)("p",{className:"text-[#959595] text-[11px] h-6",children:"Reg Date"}),(0,p.jsx)("p",{className:"font-semibold my-2",children:e.orderId})]}),(0,p.jsxs)("div",{className:"w-1/5 cursor-pointer flex gap-5 items-center px-3 py-3  border3b text-center",children:[(0,p.jsxs)("div",{class:"ml-16",children:[(0,p.jsx)(h.Fe4,{className:"mt-2 ml-2 ",style:{color:"#888888"},size:26,onClick:function(){return me(e.id)}}),(0,p.jsx)("p",{className:"text-[#959595] text-[11px] text-left mt-1",children:"Remove"})]})," ",(0,p.jsxs)("div",{children:[(0,p.jsx)(f.Z,{className:"mt-2 ml-2 ",style:{color:"#888888"},size:26,onClick:function(){return xe(e)}}),(0,p.jsx)("p",{className:"text-[#959595] text-[11px] text-left mt-1 ml-3",children:"Edit"})]})]})]},e.name)}))})}),(0,p.jsx)("div",{children:(0,p.jsxs)(N.Z,{open:te,onClose:ie,fullWidth:!0,maxWidth:"lg",style:{width:""},className:"",children:[(0,p.jsx)(Z.Z,{id:"alert-dialog-title",children:"Edit Rider"}),(0,p.jsx)(g.Z,{className:"w-full ",children:(0,p.jsx)(X,{handleClose:ie,editbikeObj:R})})]})})]}),P&&(0,p.jsx)("div",{children:(0,p.jsx)("div",{children:(0,p.jsxs)("div",{onClick:function(){return Q(!P)},className:"flex items-center mb-8 cursor-pointer w-16 p-2",children:[(0,p.jsx)("div",{style:{border:"1px solid #494949"},className:"border-solid w-5 mr-2 rounded h-5 flex justify-center items-center",children:(0,p.jsx)(B.jW7,{className:"",style:{fontSize:"22px",color:"#494949"}})}),(0,p.jsx)("p",{style:{color:"#494949"},className:"text-base",children:"Back"})]})})}),(0,p.jsx)("div",{className:"w-full flex items-center justify-center",children:(0,p.jsx)(C.Z,{route:$,width:P})}),(0,p.jsx)(w.Z,{open:K,onClose:function(){return U(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,p.jsx)("div",{children:(0,p.jsx)(y.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",minHeight:"520px",bgcolor:"background.paper",borderRadius:"3%",boxShadow:24,p:4},children:(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex gap-8",children:[(0,p.jsx)("div",{className:"flex",children:(0,p.jsx)(j.Z,{sx:{width:100,height:100},src:"/broken-image.jpg"})}),(0,p.jsx)("div",{className:"mt-4",children:(0,p.jsx)(S.Z,{className:"font-bold",variant:"h5",children:null===re||void 0===re?void 0:re.fname})})]}),(0,p.jsx)(k.Z,{className:"my-8"}),(0,p.jsxs)("div",{class:"flex gap-20",children:[(0,p.jsxs)("div",{className:" gap-16 font-semibold",children:[(0,p.jsx)(S.Z,{className:"my-3 font-semibold",children:"Total Earnings"}),(0,p.jsxs)(S.Z,{className:"font-semibold text-primary-main",children:[" ","XXXXXXX"]})]}),(0,p.jsxs)("div",{className:" font-semibold",children:[(0,p.jsx)(S.Z,{className:"my-3 font-semibold",children:"No Of Rides"}),(0,p.jsx)(S.Z,{className:"font-semibold text-primary-main",children:"XXXXX"})]})]}),(0,p.jsx)(k.Z,{className:"my-8"}),(0,p.jsxs)("div",{class:"flex gap-16 ",children:[(0,p.jsxs)("div",{className:"flex flex-col gap-3 font-semibold",children:[(0,p.jsx)(S.Z,{className:"font-semibold",children:"Address:"}),(0,p.jsx)(S.Z,{className:"font-semibold",children:"Phone Number:"}),(0,p.jsx)(S.Z,{className:"font-semibold",children:"Email address:"}),(0,p.jsx)(S.Z,{className:"font-semibold",children:"ID Card:"}),(0,p.jsx)(S.Z,{className:"font-semibold",children:"Last Login Image"})]}),(0,p.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,p.jsx)(S.Z,{children:null===re||void 0===re?void 0:re.city}),(0,p.jsx)(S.Z,{children:null===re||void 0===re?void 0:re.phoneNo}),(0,p.jsx)(S.Z,{children:null===re||void 0===re?void 0:re.email}),(0,p.jsx)(S.Z,{children:"****"}),(0,p.jsx)(S.Z,{children:"***"})]})]})]})})})})]})}},3908:function(e,s,t){var a=t(4165),i=t(5861),l=t(885),n=t(2791),r=(t(8152),t(5705),t(1724),t(5588),t(6113),t(676),t(7993)),o=(t(8871),t(9077),t(7328),t(656),t(2699),t(4565)),d=t(6871),c=(t(3979),t(8820)),u=t(184);s.Z=function(e){var s=e.route,t=e.width,m=(0,n.useState)(null),x=(0,l.Z)(m,2),v=(x[0],x[1],(0,n.useState)(null)),p=(0,l.Z)(v,2),f=(p[0],p[1]),h=(0,n.useState)(null),j=(0,l.Z)(h,2),b=(j[0],j[1]),N=(0,n.useState)(null),Z=(0,l.Z)(N,2),g=Z[0],w=Z[1],y=(0,n.useState)(""),S=(0,l.Z)(y,2);S[0],S[1],(0,d.s0)(),console.log(s);var k=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(s,t){var i,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=s&&""!=t){e.next=2;break}return e.abrupt("return");case 2:return i=new google.maps.DirectionsService,e.next=5,i.route({origin:s,destination:t,travelMode:google.maps.TravelMode.DRIVING});case 5:l=e.sent,w(l),f(l.routes[0].legs[0].distance.text),b(l.routes[0].legs[0].duration.text);case 9:case"end":return e.stop()}}),e)})));return function(s,t){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){console.log(s.origin),setTimeout(k(s.origin,s.destination),5e3)}),[s]);var D=(0,r.Ji)({id:"google-map-script",googleMapsApiKey:"AIzaSyAssvIlc0TbayfgN6C3rfGtlCXQckeystQ",libraries:["places"]}).isLoaded;if(!D)return(0,u.jsx)("p",{children:"isloaded"});var C={width:"100%",height:t?"38vw":""};return D?(0,u.jsxs)("div",{className:"w-[80%]",children:[t&&(0,u.jsxs)("div",{className:"flex w-1/3  items-center mr-5",children:[(0,u.jsx)(o.Z,{className:"w-full text-green-600",variant:"h6",children:s.origin}),(0,u.jsx)(c.mGl,{style:{fontSize:"40px"}}),(0,u.jsx)(o.Z,{className:"w-full text-green-600 ml-5",variant:"h6",children:s.destination})]}),(0,u.jsxs)(r.b6,{mapContainerStyle:C,center:{lat:6.458985,lng:3.601521},zoom:10,options:{zoomControl:!1,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1},children:[g&&(0,u.jsx)(r.tH,{directions:g}),(0,u.jsx)(u.Fragment,{})]})]}):(0,u.jsx)(u.Fragment,{})}}}]);
//# sourceMappingURL=781.59d81b6e.chunk.js.map